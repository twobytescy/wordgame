//
//  MainApp.swift
//  wordgame
//
//  Created by Stelios Ioannou on 19/10/2018.
//  Copyright © 2018 Stelios Ioannou. All rights reserved.
//

import Foundation
import UIKit
import GameplayKit

class Theme {
    var primaryColor: UIColor = UIColor.init(hexString: "#4a8e39")
    var secondaryColor: UIColor =  UIColor.init(hexString: "#3f3f3f")
}

class ActivePlayer {
    var id: String?
    var name: String?
    var points: Int?
}

class Word {
    var id: String?
    var text: String?
    var isPlayed: Bool?
    public init() {
        isPlayed = false
    }
}

class ActiveGame {
    var players: [ActivePlayer]?
    var words: [Word]?
    var round: Int?
    public init() {
        players = []
        round = 0
        fillWords()
    }
    func getWord() -> String {
        let word = words?.filter({ (theword) -> Bool in
            theword.isPlayed != true
        }).first
        word?.isPlayed = true
        return word?.text ?? ""
    }
    
    func fillWords() {
        words = []
        let sample = ["αρβα",
                      "λουσ",
                      "ροεκ",
                      "υνεπ",
                      "αντα",
                      "αραμ",
                      "ελι",
                      "εντρ",
                      "ποθη",
                      "ε",
                      "πηχη",
                      "αθμο",
                      "κριδ",
                      "απει",
                      "κοη",
                      "ρρώσ",
                      "νακα",
                      "υνορ",
                      "ριφο",
                      "κτασ",
                      "πριζ",
                      "ετοι",
                      "ρόοδ",
                      "αλιν",
                      "α",
                      "αβα",
                      "αβαρ",
                      "αβη",
                      "αβιδ",
                      "αβυρ",
                      "αβών",
                      "αγαν",
                      "αγαρ",
                      "αγκα",
                      "αγκα",
                      "αγκα",
                      "αγκε",
                      "αγνε",
                      "αγνό",
                      "αγνο",
                      "αγοκ",
                      "αγοκ",
                      "αγόν",
                      "αγόπ",
                      "αγός",
                      "αγου",
                      "αγων",
                      "αγωό",
                      "αδερ",
                      "αδης",
                      "αδι",
                      "αδι",
                      "αδι ",
                      "αδιν",
                      "αδο-",
                      "αδωμ",
                      "αδών",
                      "αθεμ",
                      "αθος",
                      "αθος",
                      "αθος",
                      "αθρα",
                      "αθρα",
                      "αθρε",
                      "αθρε",
                      "αθρε",
                      "αθρο",
                      "αθρο",
                      "αθρο",
                      "αιδη",
                      "αικη",
                      "αικη",
                      "αικη",
                      "αικη",
                      "αικη",
                      "αικι",
                      "αικι",
                      "αικό",
                      "αιλα",
                      "αιμα",
                      "αιμα",
                      "αιμα",
                      "αιμη",
                      "αιμη",
                      "αιμό",
                      "αιμο",
                      "αιμο",
                      "αιμό",
                      "αιμο",
                      "αιστ",
                      "ακ",
                      "ακα",
                      "ακεδ",
                      "ακε",
                      "ακκα",
                      "ακκο",
                      "ακκο",
                      "ακκο",
                      "ακων",
                      "ακων",
                      "ακων",
                      "αλια",
                      "αλισ",
                      "αλώ",
                      "αμα",
                      "αμαρ",
                      "αμβα",
                      "αμβα",
                      "αμβα",
                      "αμβα",
                      "αμβδ",
                      "αμδα",
                      "αμδα",
                      "αμε",
                      "αμνα",
                      "αμπα",
                      "αμπα",
                      "αμπα",
                      "αμπα",
                      "αμπα",
                      "αμπε",
                      "αμπι",
                      "αμπο",
                      "αμπρ",
                      "αμπρ",
                      "αμπρ",
                      "αμπτ",
                      "αμπυ",
                      "αμπω",
                      "αμψη",
                      "ανδα",
                      "ανθα",
                      "ανθα",
                      "ανθα",
                      "ανθα",
                      "ανθα",
                      "ανκα",
                      "ανολ",
                      "ανσα",
                      "αντζ",
                      "αντι",
                      "αξεμ",
                      "αξευ",
                      "αξευ",
                      "αξευ",
                      "αο",
                      "αογρ",
                      "αός",
                      "αος",
                      "αουτ",
                      "απαθ",
                      "απατ",
                      "απιν",
                      "απων",
                      "απων",
                      "αρδι",
                      "αριξ",
                      "αρισ",
                      "αρισ",
                      "αρνα",
                      "αρυγ",
                      "αρυγ",
                      "αρυγ",
                      "αρυγ",
                      "ασκα",
                      "ασκο",
                      "ασο",
                      "ασπη",
                      "ασπο",
                      "ασπό",
                      "ασπώ",
                      "ασπω",
                      "ασπώ",
                      "ασπω",
                      "αστι",
                      "αστι",
                      "αστι",
                      "αστι",
                      "αταν",
                      "ατιν",
                      "ατιν",
                      "ατιν",
                      "ατιν",
                      "ατιν",
                      "ατιν",
                      "ατιν",
                      "ατιφ",
                      "ατομ",
                      "ατρε",
                      "ατρε",
                      "ατρε",
                      "ατρη",
                      "αυρα",
                      "αυρε",
                      "αφυρ",
                      "αφυρ",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχαν",
                      "αχει",
                      "αχνό",
                      "αχτα",
                      "αχτα",
                      "αχτα",
                      "εiος",
                      "εαιν",
                      "εβαν",
                      "εβαν",
                      "εβεν",
                      "εβητ",
                      "εβιε",
                      "εβιθ",
                      "εγαμ",
                      "εγετ",
                      "εγεώ",
                      "εγομ",
                      "εγόμ",
                      "εγω",
                      "εζαν",
                      "εηζε",
                      "εηλα",
                      "εηλα",
                      "εια",
                      "ειαι",
                      "ειαν",
                      "ειβα",
                      "ειζε",
                      "ειμα",
                      "ειος",
                      "ειπε",
                      "ειπω",
                      "ειρι",
                      "ειτο",
                      "ειτο",
                      "ειτο",
                      "ειτο",
                      "ειτο",
                      "ειτο",
                      "ειτο",
                      "ειτο",
                      "ειτο",
                      "ειχη",
                      "ειχη",
                      "ειχω",
                      "ειψα",
                      "ειψα",
                      "ειψα",
                      "ειψό",
                      "εκαν",
                      "εκαν",
                      "εκαν",
                      "εκε",
                      "εκια",
                      "εκτο",
                      "εκτω",
                      "ελεκ",
                      "εμβο",
                      "εμβο",
                      "εμεσ",
                      "εμον",
                      "εμόν",
                      "εμον",
                      "εμφι",
                      "εμφο",
                      "εμφο",
                      "εμφο",
                      "ενε",
                      "εξη",
                      "εξικ",
                      "εξικ",
                      "εξικ",
                      "εξικ",
                      "εξικ",
                      "εξιλ",
                      "εξιπ",
                      "εοντ",
                      "εοντ",
                      "εοντ",
                      "εοπα",
                      "εόπα",
                      "εουβ",
                      "επι",
                      "επιδ",
                      "επιδ",
                      "επιδ",
                      "επρα",
                      "επτα",
                      "επτε",
                      "επτό",
                      "επτό",
                      "επτο",
                      "επτο",
                      "επτο",
                      "επτο",
                      "επτο",
                      "επτο",
                      "επτο",
                      "επτό",
                      "επτο",
                      "επτό",
                      "επτο",
                      "επτό",
                      "ερος",
                      "ερωμ",
                      "ερών",
                      "ερών",
                      "εκ",
                      "εσβι",
                      "εσβο",
                      "εσι",
                      "εσόθ",
                      "εστι",
                      "εστι",
                      "εσχη",
                      "εσχη",
                      "εσχη",
                      "ετε ",
                      "ετε",
                      "ετε",
                      "ετον",
                      "ετον",
                      "ετον",
                      "ετον",
                      "ετσο",
                      "ετσο",
                      "εττο",
                      "εττο",
                      "εττο",
                      "ευιτ",
                      "ευκα",
                      "ευκα",
                      "ευκα",
                      "ευκα",
                      "ευκα",
                      "ευκα",
                      "ευκη",
                      "ευκη",
                      "ευκι",
                      "ευκό",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκο",
                      "ευκό",
                      "ευκό",
                      "ευκο",
                      "ευκο",
                      "ευκό",
                      "ευκπ",
                      "ευκω",
                      "ευκω",
                      "ευκω",
                      "ευκω",
                      "ευκω",
                      "ευτε",
                      "ευχα",
                      "εφτα",
                      "εω",
                      "εων",
                      "εων",
                      "εωφο",
                      "εωφο",
                      "εωφο",
                      "εωφο",
                      "εωφό",
                      "ηγου",
                      "ηγω",
                      "ηδα",
                      "ηθαρ",
                      "ηθη",
                      
                      "ημμα",
                      "ημμα",
                      "ηξη",
                      "ηξια",
                      "ηξιπ",
                      "ηπτη",
                      "ησμο",
                      "ηστε",
                      "ηστε",
                      "ηστη",
                      "ηστρ",
                      "ηψη",
                      "ιαζο",
                      "ιακα",
                      "ιανα",
                      "ιανι",
                      "ιανι",
                      "ιβαδ",
                      "ιβαδ",
                      "ιβαν",
                      "ιβαν",
                      "ιβαν",
                      "ιβαν",
                      "ιβελ",
                      "ιβελ",
                      "ιβελ",
                      "ιβερ",
                      "ιβερ",
                      "ιβερ",
                      "ιβιδ",
                      "ιβρα",
                      "ιβρε",
                      "ιβυη",
                      "ιβυκ",
                      "ιβυο",
                      "ιγα",
                      
                      "ιγε",
                      "ιγηρ",
                      "ιγνι",
                      "ιγνι",
                      "ιγνό",
                      "ιγο",
                      "ιγο ",
                      "ιγοι",
                      "ιγόλ",
                      "ιγομ",
                      "ιγος",
                      "ιγοσ",
                      "ιγοσ",
                      "ιγότ",
                      "ιγότ",
                      "ιγου",
                      "ιγου",
                      "ιγου",
                      "ιγών",
                      "ιγών",
                      "ιθιο",
                      "ιθοβ",
                      "ιθογ",
                      "ιθογ",
                      "ιθογ",
                      "ιθοδ",
                      "ιθος",
                      "ιθοσ",
                      "ιθόσ",
                      "ιθόσ",
                      "ιθου",
                      "ιθου",
                      "ιθου",
                      "ιθου",
                      "ιθρι",
                      "ιθών",
                      "ικερ",
                      "ικνι",
                      "ικνι",
                      "ικνι",
                      "ικνο",
                      "ιλα",
                      "ιμα",
                      "ιμαν",
                      "ιμαν",
                      "ιμαρ",
                      "ιμαρ",
                      "ιμασ",
                      "ιμβο",
                      "ιμεν",
                      "ιμεν",
                      "ιμνα",
                      "ιμνα",
                      "ιμνη",
                      "ιμνη",
                      "ιμνο"]
        
        let shuffled = GKRandomSource.sharedRandom().arrayByShufflingObjects(in: sample)
        
        
        
        for lettersString in shuffled {
            var lettersStringS  = ""
            if (lettersString as! String).count > 2 {
                
                let lower : UInt32 = 2
                let upper : UInt32 = 3
                let randomNumber = arc4random_uniform(upper - lower) + lower
                
                lettersStringS = (lettersString as! String).substring(to: String.Index.init(encodedOffset: Int(randomNumber)))
            }
            else
            {
                lettersStringS = lettersString as! String
            }
            let word = Word()
            word.text = lettersStringS
            words?.append(word)
        }
            
            
            
    }
    
    
}

public class MainApp {
    
    static let shared = MainApp()
    
    var theme: Theme = Theme()
    var activeGame: ActiveGame = ActiveGame()
    //Initializer access level change now
    private init(){}
    
    
}
